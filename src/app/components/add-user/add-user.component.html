<div class="bg-white main p-5">
    <h1 class="text-uppercase fw-bold">Add User</h1>
    <form (ngSubmit)="addUser()" [formGroup]="addUserForm" action="">
        <div class="mb-4">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>Name</mat-label>
                <input formControlName="name" matInput type="text"  placeholder="Enter User Name">
            </mat-form-field>
            <div *ngIf="addUserForm.get('name')?.touched">
                <mat-error *ngIf="addUserForm.get('name')?.errors?.['required']">
                    Name is required
                </mat-error>
            </div>
        </div>
        <div class="mb-4">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>Email</mat-label>
                <input formControlName="email" matInput type="email"  placeholder="Enter User Email">
            </mat-form-field>
            <div *ngIf="addUserForm.get('email')?.touched">
                <mat-error *ngIf="addUserForm.get('email')?.errors?.['required']">
                    Email is required
                </mat-error>
                <mat-error *ngIf="addUserForm.get('email')?.errors?.['email']">
                    Enter a valid email address
                </mat-error>
            </div>
        </div>
        <div *ngIf="!userState" class="mb-4">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>Password</mat-label>
                <input formControlName="password" matInput type="password"  placeholder="Enter User password">
            </mat-form-field>
            <div *ngIf="addUserForm.get('password')?.touched">
                <mat-error *ngIf="addUserForm.get('password')?.errors?.['required']">
                    Password is required
                </mat-error>
                <mat-error *ngIf="addUserForm.get('password')?.errors?.['minlength']">
                    Minimum password length is <strong>6 characters</strong>
                </mat-error>
            </div>
        </div>
        <div class="mb-4">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>Phone</mat-label>
                <input formControlName="phone" matInput type="text"  placeholder="Enter User Phone">
            </mat-form-field>
            <div *ngIf="addUserForm.get('phone')?.touched">
                <mat-error *ngIf="addUserForm.get('phone')?.errors?.['required']">
                    Phone is required
                </mat-error>
                <mat-error *ngIf="addUserForm.get('phone')?.errors?.['pattern']">
                    Enter a valid phone number
                </mat-error>
            </div>
        </div>
        <div class="mb-4">
                <mat-radio-group class="d-flex align-items-center" formControlName="status" aria-label="Select Role">
                    <mat-radio-button value="admin">Admin</mat-radio-button>
                    <mat-radio-button value="user">User</mat-radio-button>
                </mat-radio-group>
                <div *ngIf="addUserForm.get('status')?.touched">
                    <mat-error *ngIf="addUserForm.get('status')?.errors?.['required']">
                        Status is required
                    </mat-error>
                </div>
        </div>
        <div class="d-flex gap-4 justify-content-center align-items-center">
            <button *ngIf="!userState" [disabled]="addUserForm.invalid" type="submit" class="create-btn">Create</button>
            <button *ngIf="userState"  type="button" (click)="updateUser()" class="update-btn">Update</button>
            <button (click)="closeModal()" type="button" class="cancel-btn">Cancel</button>

        </div>
    </form>
</div>