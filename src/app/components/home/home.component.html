<div class="container-fluid all">
    <div>
        <h1 class="text-uppercase text-white"><i class="fa-solid fa-chart-simple"></i> Website Statistics</h1>
    </div>
    <div class="row g-4">
        <div class="col-md-5">
            <div  class="projects design text-white">
                <span class="total mb-3">Total Projects <i class="fa fa-info-circle"></i></span>
                <div class="row align-items-end justify-content-between">
                    <div class="col-md-8">
                        <div>
                            <div class="statistics pb-2">
                                <h2>{{projects.length}} Projects</h2>
                                <p ><i class="fa-regular fa-circle-question"></i> last project added at <span class="text-white-50 ">{{projects[projects.length-1]?.['createdAt'] | date : 'dd/MM/yyy hh:mm:ss'}}</span> </p>
                            </div>
                            <div class="d-flex flex-column mt-2 w-100 justify-content-between">
                                <div class="d-flex gap-1 justify-content-between align-items-center">
                                    <div class="p-3 rounded-4 state shadow  w-100">
                                        <p><i class="fa-solid fa-eye-slash"></i> Hidden Projects</p>
                                        <h3>{{hiddenProjects.length}} project</h3>
                                        <div class="progress rounded-1">
                                            <div class="progress-bar" role="progressbar" title="hidden" [style.width]="((hiddenProjects.length / projects.length) * 100).toFixed() + '%'" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">{{((hiddenProjects.length / projects.length) * 100).toFixed()}} %</div>
                                        </div>
                                    </div>
                                    <div class="p-3 rounded-4 state shadow  w-100">
                                        <p><i class="fa-solid fa-eye"></i> Visible Projects</p>
                                        <h3>{{visibleProjects.length}} project</h3>
                                        <div class="progress rounded-1">
                                            <div class="progress-bar" role="progressbar" title="hidden" [style.width]="((visibleProjects.length / projects.length) * 100).toFixed() + '%'" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">{{((visibleProjects.length / projects.length) * 100).toFixed()}} %</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <img src="./assets/images/undraw_visual-data_3ghp.svg" class="w-100 ms-auto d-block" alt="">
                    </div>
                </div>
            </div> 
        </div>
        <div class="col-md-4">
            <div class="messages design">
                <span class="total">Total Messages <i class="fa fa-info-circle"></i></span>
                <div class="row align-items-center justify-content-between">
                    <div class="col-md-12">
                        <div>
                            <div class="statistics align-items-end d-flex justify-content-between  flex-wrap  pb-2">
                                <div>
                                    <h2>{{messages.length}} Message</h2>
                                    <p ><i class="fa-regular fa-circle-question"></i> last Message sent at <span class="text-white-50 ">{{messages[messages.length-1]?.['createdAt'] | date : 'dd/MM/yyy hh:mm:ss'}}</span> </p>
                                </div>
                                <div>
                                <img src="./assets/images/undraw_opened_47gd.svg" alt="">
                                </div>
                            </div>
                            <div class="d-flex flex-column mt-2 w-100 justify-content-between">
                                <div class="d-flex gap-1 justify-content-between align-items-center">
                                    <div class="p-3 rounded-4 state shadow  w-100">
                                        <p><i class="fa-solid fa-eye-slash"></i> Hidden Messages</p>
                                        <h3>{{hiddenMessage.length}} Message</h3>
                                        <div class="progress rounded-1">
                                            <div class="progress-bar" role="progressbar" title="hidden" [style.width]="((hiddenMessage.length / messages.length) * 100).toFixed() + '%'" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">{{((hiddenMessage.length / messages.length) * 100).toFixed()}} %</div>
                                        </div>
                                    </div>
                                    <div class="p-3 rounded-4 state shadow  w-100">
                                        <p><i class="fa-solid fa-eye"></i> Visible Messages</p>
                                        <h3>{{visibleMessage.length}} Message</h3>
                                        <div class="progress rounded-1">
                                            <div class="progress-bar" role="progressbar" title="hidden" [style.width]="((visibleMessage.length / messages.length) * 100).toFixed() + '%'" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">{{((visibleMessage.length / messages.length) * 100).toFixed()}} %</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="users design">
                <span class="total">Total users <i class="fa fa-info-circle"></i></span>
                <div class="row align-items-center justify-content-between">
                    <div class="col-md-12">
                        <div>
                            <div class="statistics pb-2">
                                <div>
                                    <h2>{{users.length}} User</h2>
                                    <p><i class="fa-regular fa-circle-question"></i> last User Role is <span class="text-white-50 ">{{users[users.length-1]?.['status']}}</span> for <span>{{users[users.length-1]?.['name']}}</span></p>
                                </div>
                            </div>
                            <div class="d-flex flex-column mt-2 w-100 justify-content-between">
                                <div class="d-flex gap-1 justify-content-between align-items-center">
                                    <div class="p-3 rounded-4 state shadow  w-100">
                                        <p><i class="fa-solid fa-lock-open"></i>Admin</p>
                                        <h3>{{adminRole.length}} Admin</h3>
                                        <div class="progress rounded-1">
                                            <div class="progress-bar" role="progressbar" title="hidden" [style.width]="((adminRole.length / users.length) * 100).toFixed() + '%'" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">{{((adminRole.length / users.length) * 100).toFixed()}} %</div>
                                        </div>
                                    </div>
                                    <div class="p-3 rounded-4 state shadow  w-100">
                                        <p><i class="fa-solid fa-lock"></i>User</p>
                                        <h3>{{userRole.length}} User</h3>
                                        <div class="progress rounded-1">
                                            <div class="progress-bar" role="progressbar" title="hidden" [style.width]="((userRole.length / users.length) * 100).toFixed() + '%'" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">{{((userRole.length / users.length) * 100).toFixed()}} %</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>


    <div class="row mt-4 g-4 py-3">
        <div class="col-md-12">
            <div>
                <div  echarts [options]="chartOptions"  class="chart"></div>
            </div>
        </div>
        <div class="col-md-4">
            <div>
                <div  echarts [options]="chartProjectOptions"  class="chart"></div>
            </div>
        </div>
        <div class="col-md-4">
            <div>
                <div  echarts [options]="chartMessageOptions"  class="chart"></div>
            </div>
        </div>
        <div class="col-md-4">
            <div>
                <div  echarts [options]="chartUserOptions"  class="chart"></div>
            </div>
        </div>
    </div>
</div>